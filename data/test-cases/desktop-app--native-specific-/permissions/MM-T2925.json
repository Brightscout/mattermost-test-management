{
  "id": 5769956,
  "key": "MM-T2925",
  "name": "Trust protocols, auto-converting protocols to links and capturing unhandled exceptions",
  "createdOn": "2020-06-10T17:28:09Z",
  "objective": null,
  "precondition": null,
  "estimatedTime": null,
  "labels": ["Desktop-app", "smoke-test-folder", "fix-versions-not-empty-2022cleanup"],
  "component": null,
  "priority": { "id": 401951, "name": "Low" },
  "status": { "id": 890281, "name": "Active" },
  "folder": {
    "id": 565206,
    "name": "Permissions",
    "parentId": 565201,
    "fullNames": ["Desktop App (native-specific)", "Permissions"],
    "fullPath": "desktop-app--native-specific-/permissions"
  },
  "customFields": {
    "Playwright": null,
    "Authors": "",
    "Priority P1 to P4": null,
    "Update notes": "",
    "Rainforest": ["N/A"],
    "Team Ownership": ["QA Platform"],
    "Manual Test Environments": ["Desktop"],
    "Detox": null,
    "Cypress": null,
    "MMCTL": null,
    "Last Updated": "",
    "Tags": ["Smoke test"],
    "Location": "Smoke Test"
  },
  "steps": [
    {
      "inline": {
        "description": "Trust protocol question:<br><ol><li>ensure you don't have spotify in your <code>&lt;configpath&gt;/Mattermost/allowedProtocols.json</code> or dont have that file&nbsp;</li><li>post a link with spotify protocol like:<br><code>[herbie hanckock](spotify:album:5fmIolILp5NAtNYiRPjhzA)</code></li><li>Click on the link</li></ol>",
        "testData": null,
        "expectedResult": "<ul><li>Dialog should appear.&nbsp;<ul><li>if hitting No, dialog closes, file does not open</li><li>if hitting yes it won't save the new protocol, but still open on spotify</li><li>if hitting save it will add an entry to the above file</li></ul></li><li>if user chose save, the file must contain the entry and clicking again on the posted link should not raise the dialog again.</li></ul>",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    },
    {
      "inline": {
        "description": "Additional default protocols:<ol><li>Post the following<br><br>[email](mailto:someone@example.com) [http](http://mattermost.com) [https](https://mattermost.com) [ftp](http://ftp.hosteurope.de/mirror/ftp.kernel.org/pub/linux/kernel/) [tel](tel:+12025550168)<br><br></li><li>Click on each link</li></ol>Note: <br>[spotify](spotify:track:4Lvsivg09vKPfUpxpF3zcz) should still ask for permission to be trusted if not previously added to the trusted list ",
        "testData": null,
        "expectedResult": "<ul><li>Protocols are automatically converted to links and marked as safe</li><li>Each clicked link should open the appropriate program and the desktop app shouldn't show a message about adding the protocol as trusted</li></ul>",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    },
    {
      "inline": {
        "description": "<strong>N/A for now - We need to find a way to make the app crash in order to verify</strong><br>Unhandled exceptions:<br>Cause the app to crash and a dialog should appear offering user three choices:<br><ul><li>Ok&nbsp;</li><li>Show Details&nbsp;</li><li>Reopen&nbsp;</li></ul>",
        "testData": null,
        "expectedResult": "<ul><li>Ok - Dismisses the dialog, closes the app</li><li>Show Details - window with info should appear, App closes</li><li>Reopen - app should close and reopen</li></ul>",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    }
  ],
  "caseHashed": "549d0428348a37bc9d4fce1c73b8fe399ed5cf1da1b241f071bc5f30bff5191c9d03e32b3c543f4a52bb640476cbaeb3",
  "stepsHashed": "8e572cb51b90a7a61637427f6fcc8982db5d9315aef60a6689c2955a364ee8fc05e0210a96f69e5e324bfe8559be5ad6"
}
