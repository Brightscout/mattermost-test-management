---
name: "Disable token can not be used to post"
status: Active
priority: Low
team_ownership: "Integration Frameworks"
---

## MM-T1878: Disable token can not be used to post

---

**Step 1**

1\. Create or locate a bot that you have a valid token\
2\. Tests that the BOT can successfully post to a channel without issue (see test data)\
3\. Disable the token being used\
4\. Attempt the same post again\
5\. Re enable the token used above\
6\. Attempt the same post again

**Test Data**

curl -i -X POST -H 'Content-Type: application/json' -d '{"channel\_id":"\<ChannelID>", "message":"This is a message from a bot", "props":{"attachments": \[{"pretext": "Look some text","text": "This is text"}]}}' -H 'Authorization: Bearer \<Auth Token of creator>' https\://\<serveraddress>/api/v4/posts

**Expected**

On 4. Post fails\
On 6. Post succeeds
