---
key: MM-T1880
title: Deleted token can not be used to post
---

## MM-T1880: Deleted token can not be used to post

### Details

| Name     | Value                                            |
| :------- | :----------------------------------------------- |
| Priority | Low                                              |
| Status   | Active                                           |
| Folder   | Integrations / Bot Accounts / API and using BOTs |
| Labels   | cy-prod                                          |
| Created  | 2020-05-04T18:16:02Z                             |

### Steps

<hr/>

**Step 1**

> <article>1. Create or locate a bot that you have a valid token<br>2. Tests that the BOT can successfully post to a channel without issue (see test data)<br>3. Delete the token being used<br>4. Attempt the same post again</article>

**Test Data**

> <article>curl -i -X POST -H 'Content-Type: application/json' -d '{"channel_id":"&lt;ChannelID&gt;", "message":"This is a message from a bot", "props":{"attachments": [{"pretext": "Look some text","text": "This is text"}]}}' -H 'Authorization: Bearer &lt;Auth Token of creator&gt;' https://&lt;serveraddress&gt;/api/v4/posts</article>

**Expected**

> <article>Post fails</article>

<hr/>

### More Info

| Name                     | Value                                                                                                                              |
| :----------------------- | :--------------------------------------------------------------------------------------------------------------------------------- |
| Priority P1 to P4        | P2 - Core Functions (Do core functions work?)                                                                                      |
| Update notes             | Steve Mudie — Wednesday, February 03, 2021 4:09 PM<br>• Dropped fromDesktop and Cloud manual testing - Cypress working as expected |
| Rainforest               | N/A                                                                                                                                |
| Team Ownership           | Integration Frameworks                                                                                                             |
| Manual Test Environments | Automated - No manual tests needed                                                                                                 |
| Cypress                  | in Production                                                                                                                      |
| Location                 | BOT Accounts                                                                                                                       |
