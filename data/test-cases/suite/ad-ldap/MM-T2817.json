{
  "id": 5612568,
  "key": "MM-T2817",
  "name": "Don't remove bots from teams and channels when doing LDAP groups removals",
  "createdOn": "2020-06-02T20:03:49Z",
  "objective": null,
  "precondition": null,
  "estimatedTime": null,
  "labels": ["ldap"],
  "component": null,
  "priority": { "id": 401951, "name": "Low" },
  "status": { "id": 890281, "name": "Active" },
  "folder": {
    "id": 404269,
    "name": "AD LDAP",
    "parentId": 2954447,
    "fullNames": ["Suite", "AD LDAP"],
    "fullPath": "suite/ad-ldap"
  },
  "customFields": {
    "Fix Versions": ["v5.12 (June 2019)"],
    "Playwright": null,
    "Authors": "",
    "Priority P1 to P4": "P3 - Deep Functions (Do extensive scenarios work?)",
    "Update notes": "",
    "Rainforest": ["N/A"],
    "Cypress Reports": null,
    "Team Ownership": ["Suite Users"],
    "Manual Test Environments": ["Desktop", "Webapp"],
    "Detox": null,
    "Cypress": "To Do",
    "MMCTL": null,
    "Last Updated": "",
    "Selenium": null,
    "Tags": [],
    "Location": "AD LDAP"
  },
  "steps": [
    {
      "inline": {
        "description": "Don't remove bots from teams and channels when doing LDAP groups removals<br>————————————————————————————<br>Add a bot to a group-constrained team or channel and ensure that, while other user accounts are removed from the team or channel, bot accounts do not get removed.<ol><li>Create bot account (enable bot accounts in System Console ➜ Integrations ➜ Features, then create bot account in main menu ➜ Integrations)</li><li> Create a private channel</li><li> Add the bot account to the private channel (channel drop-down ➜ Add Members to Channel, or use the link in the channel intro text)</li><li> Also add another user to the private channel who is not in the LDAP group you're going to link it to</li><li> System admin link an LDAP group to the channel (can sync LDAP here if curious who is added; no one would be removed b/c not constrained yet)</li><li> In CLI, enable group-constraint for the channel</li><li> Verify before LDAP sync that users including the bot were not removed</li><li>Sync LDAP</li></ol>",
        "testData": null,
        "expectedResult": "<ul><li>Other user you added (step 4) was removed from the channel</li><li>Bot account is still in the channel<br><br></li></ul><strong>Summary</strong>: Users in the group are added / remain in the channel. Users not in the group are removed from the channel, except for bot accounts. They stay even though they're not in an LDAP group",
        "customFields": {
          "Fix Versions": ["v5.12 (June 2019)"],
          "Related ticket(s)": "&nbsp;(<strong><span style=\"color: rgb(65, 168, 95);\">Story</span></strong>)&nbsp;<a href=\"https://mattermost.atlassian.net/browse/MM-15261\">Don't remove bots from teams and channels when doing LDAP groups removals — MM-15261</a>",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    }
  ],
  "caseHashed": "b297051f39f63542f44dbe9e9717ed8a607f127c54334f05ebdfe5c7355b41a81f16725f4218a95a0e66a9199484a097",
  "stepsHashed": "e93180aaf7549434aaebc49b67e3eac5b0d65a03a780fd3ba13c8be53c259fbfb7d3b4dd8d5ea41da265d87507c46a63"
}
