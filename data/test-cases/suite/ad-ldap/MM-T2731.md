---
name: "With the ID Attribute set - ID Attribute does not match"
status: Draft
priority: Normal
team_ownership: "Suite Users"
---

## MM-T2731: With the ID Attribute set - ID Attribute does not match

---

**Step 1**

With the ID Attribute set - ID Attribute does not match\
————————————————————————————\
**SAML settings**:

- Sync with LDAP = true
- Override SAML bind data = true
- Enter Id Attribute (e.g. idAttr) - in this case, we are using String.substringBefore(user.login, "@") (see below)
- Save

**Configure in OKTA to expose ID Attribute (Applications)**

- ATTRIBUTE STATEMENTS
-  Name idAttr
- Value user.login

\
Our idAttr in SAML is Test.One and in LDAP is Test.One\
that won't work b/c it's being parsed from email address\
\
Tricky way to solve just for testing this specific setup: Set idAttr in SAML to user.firstName\
\
Run LDAP sync (1 updated)\
Log out the first SAML user and click to log back in via SAML (this user has diff first name in OKTA vs. LDAP, and the email address is therefore already in use)

**Expected**

- Error

An account with that username already exists. Please contact your Administrator\
\
(This is where the new feature is working. It protects the old account, and then the system admin can go into Mm if they want to, and remove the collision there)
