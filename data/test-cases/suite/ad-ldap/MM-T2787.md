---
# (Required) Ensure all values are filled up
name: "LDAP sync job deletes memberships from teams and channels A. Remove a user from a group...  1. User gets removed from associated group-constrained channels  2. User gets removed from associated group-constrained teams"
status: Draft
priority: Normal
folder: AD LDAP
authors: ""
team_ownership: 
- Suite Users

# (Optional) Test type and tools
cypress: To Do
detox: null
mmctl: null
playwright: null
rainforest: 
- N/A
manual_test_environments: 
- Desktop
- Webapp

# (Optional)
component: null
priority_p1_to_p4: null
location: AD LDAP
tags: []
labels: 
- ldap
- fix-versions-not-empty-2022cleanup

# Do not change
id: 5602316
key: MM-T2787
folder_path: suite/ad-ldap
created_on: "2020-06-01T22:09:53Z"
last_updated: "2022-09-09T17:58:28Z"
case_hashed: 08472fb2477633d77b7d468e04700ed1b89bcc7ed1ec18f386566b7eab7c6a935c966785472780c68965f826f7a8c6a4
steps_hashed: 79603c05ec9fc7b490bf10a84bd9c52a89b05de5bc448e7e109b4c446a523aada632b422de4874e2fb60a2ccb6aeccea
---

## MM-T2787: LDAP sync job deletes memberships from teams and channels A. Remove a user from a group... 1. User gets removed from associated group-constrained channels 2. User gets removed from associated group-constrained teams

---

**Step 1**

LDAP sync job deletes memberships from teams and channels\
A. Remove a user from a group...\
1\. User gets removed from associated group-constrained channels\
2\. User gets removed from associated group-constrained teams\
————————————————————————————

1. Associate QA team with abc group
2. Associate Constrain-QA-Channel with abc group
3. Ensure both have group-constraint enabled
4. Sync LDAP, verify jesse.test is added to both
5. In LDAP instance, remove jesse.test from abc group
6. Sync LDAP

_Related ticket(s):_

(**Story**) [Update LDAP sync job to delete memberships from teams and channels — MM-14412](https://mattermost.atlassian.net/browse/MM-14422)

**Expected**

jesse.test is removed from both

- Still on the parent team that was not group-constrained, but removed from its group-constrained private channel
- Removed entirely from QA team

**Note in first test**: jesse.test starts with just engineering team and william.test channel
