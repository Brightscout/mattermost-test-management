{
  "id": 7544905,
  "key": "MM-T3420",
  "name": "Check for Ignore Guest Users when Synchronizing with AD/LDAP",
  "createdOn": "2020-10-20T16:47:52Z",
  "objective": null,
  "precondition": null,
  "estimatedTime": null,
  "labels": ["ldap", "fix-versions-not-empty-2022cleanup"],
  "component": { "id": 14314, "name": "System Console" },
  "priority": { "id": 1251319, "name": "Smoke test" },
  "status": { "id": 890281, "name": "Active" },
  "folder": {
    "id": 404269,
    "name": "AD LDAP",
    "parentId": 2954447,
    "fullNames": ["Suite", "AD LDAP"],
    "fullPath": "suite/ad-ldap"
  },
  "customFields": {
    "Playwright": null,
    "Authors": "",
    "Priority P1 to P4": "P3 - Deep Functions (Do extensive scenarios work?)",
    "Update notes": "",
    "Rainforest": ["N/A"],
    "Team Ownership": ["Suite Users"],
    "Manual Test Environments": ["Webapp"],
    "Detox": null,
    "Cypress": null,
    "MMCTL": null,
    "Last Updated": "",
    "Tags": ["Never tested"],
    "Location": "AD LDAP"
  },
  "steps": [
    {
      "inline": {
        "description": "<strong>Setup ADFS and LDAP with following configurations:</strong><br><br><strong>ADFS -&nbsp;</strong><br>1. ADFS setup in Active Directory (adfs.e2etest.dev.spinmint.com)<br>2. SAML needs to be setup with ADFS. (https://docs.mattermost.com/deployment/sso-saml-adfs-msws2016.html)<br>2a. Set \"Enable Synchronizing SAML Accounts with AD/LDAP\" = true<br>2b. Set \"Ignore Guest Users when Synchronizing with AD/LDAP\" = true<br>2c. Set \"Guest Filter\" = Username=*guest* 2b. Set \"Id Attribute\" = \"objectGUID\"<br>3. Mattermost must be running in SSL. (https://docs.mattermost.com/install/config-tls-mattermost.html)<br><br><strong>LDAP -&nbsp;</strong><br>1. AD/LDAP setup in Active Directory (adfs.e2etest.dev.spinmint.com)<br>2. LDAP needs to be setup in Mattermost (https://docs.mattermost.com/deployment/sso-ldap.html)<br>2a. Set \"Enable Synchronization with AD/LDAP\" = true 2b.<br>Set \"ID Attribute\" = \"objectGUID\"<br>2c. Set \"User Filter\" = \"(sn=user)\"<br><br><br><strong>Test Steps:</strong><br>1. Once both systems are setup and working independently, Test SAML Login by logging in as a user containing the username guest in it. For example: samlguest-1 or samlguest-2<br>2. Go to LDAP, run LDAP Sync.\n- Ensure Guest User was not deactivated.<br><br>Repeat the above steps by setting the config \"Ignore Guest Users when Synchronizing with AD/LDAP\" to false in SAML configuration page and verify that Guest User gets deactivated when LDAP Sync is run<br><br><br>",
        "testData": null,
        "expectedResult": "<ul><li>If the config \"Ignore Guest Users when Synchronizing with AD/LDAP\" is set to True, then Guest User should not be deactivated when LDAP Sync is complete.&nbsp;</li><li>If the config \"Ignore Guest Users when Synchronizing with AD/LDAP\" is set to False, then Guest User should be deactivated when LDAP Sync is complete.&nbsp;</li></ul>",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    }
  ],
  "caseHashed": "4c312db3d0f372ff93dc32e7f6f93ac1af9a4f69aea602e20e0504a62f9325e3b2eacc4bb549dd48379211d04f974ffc",
  "stepsHashed": "b76ea978159fe05155bfd529405bada0bce8b2dd5640d6ac6d997de7a2e9d29ba4a7964e8eb4ef85513d6a3f93672e27"
}
