---
key: MM-T3006
title: OAuth SSO: Google Apps
---

## MM-T3006: OAuth SSO: Google Apps

### Details

| Name     | Value                       |
| :------- | :-------------------------- |
| Priority | Low                         |
| Status   | Active                      |
| Folder   | Suite / OAuth               |
| Labels   | Se-Needs-Test-Steps,5.34-p1 |
| Created  | 2020-07-08T23:44:10Z        |

### Steps

<hr/>

**Step 1**

> <article><strong>Setup / Cleanup<br></strong><br>1. On mysql.test, System Console &gt; Users<br>2. Log in as system admin and search for your Google Apps user (e.g. first.last@mattermost.com)<br>3. If that user does not exist on the server, pass this test and go on to step 2.<br>4. If that user is already on server and set to log in using Google, use the drop-down next to the user to change it to email/password login, and enter new password<br>5. Log out as system admin, log in as the other user, change email address (to one you can still check), name, and username, and log out. You will need to verify your new email address in order to make the change effective<br><br></article>

**Expected**

> <article>Just clearing out the Google Apps user to make room for the following tests. Pass this step if not required or when complete.</article>

<hr/>

**Step 2**

> <article><strong>Create new account from email invitation, using Google SSO<br></strong><br>6. Go to any team &gt; main menu &gt; Invite People, and send an email invitation to your Google Apps address (e.g. firstname.lastname@mattermost.com)<br>7. Log out if you're in the same browser session where your Gmail is logged in<br>8. Check your email, click the Join Team button, and select Google SSO as method to create new account</article>

**Expected**

> <article>- Account is successfully created<br>- You're brought to the team you received the invite for, and you see the tutorial (don't skip or complete the tutorial)</article>

<hr/>

**Step 3**

> <article><strong>Join open team from URL<br></strong><br>9. As another user, copy the URL of a public channel on an open team that your Google user is not on<br>10. In a different browser, open the URL, sign in using Google<br><br></article>

**Expected**

> <article>- You have joined and see that channel / team displayed</article>

<hr/>

**Step 4**

> <article><strong>Change login method to email / password<br></strong><br>11. In Account Settings &gt; Security, switch to email login, entering a new password as prompted<br>12. Observe success message <br>13. If not auto-logged-out, log out</article>

**Expected**

> <article>- Able to successfully change signin method to email / password</article>

<hr/>

**Step 5**

> <article><strong>Can switch back to Google Apps login method and log in<br></strong><br>15. Log in using email / password<br>16. In Account Settings &gt; Security, switch signin method back to Google Apps login<br>17. Observe success message<br>18. Log in using Google</article>

**Expected**

> <article>- Login is successful using Office 365</article>

<hr/>

### More Info

| Name                     | Value                                                                              |
| :----------------------- | :--------------------------------------------------------------------------------- |
| Priority P1 to P4        | P1 - Smoke Tests (App testable?)                                                   |
| Update notes             | 29 Nov 21: Linda: Removed outdated note re: Google Apps not working on mobile apps |
| Team Ownership           | Suite Users                                                                        |
| Manual Test Environments | Desktop,Webapp,Cloud                                                               |
| Location                 | OAuth                                                                              |
