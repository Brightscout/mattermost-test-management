---
key: MM-T1147
title: Allow file sharing (attachments) - False
---

## MM-T1147: Allow file sharing (attachments) - False

### Details

| Name     | Value                                                                    |
| :------- | :----------------------------------------------------------------------- |
| Priority | Normal                                                                   |
| Status   | Active                                                                   |
| Folder   | Suite / System Console / Site Configuration / File Sharing and Downloads |
| Labels   | Cloud-N/A,system-console,cy-prod                                         |
| Created  | 2020-01-22T19:26:25Z                                                     |

### Steps

<hr/>

**Step 1**

> <article>Allow file sharing (attachments) - False<br />–––––––––––––––––––––––––<ol><li>Set `Allow file sharing` to `false`</li><li>Click Save</li><li>Return to team<ol><li>Verify no paper clip icon in center or RHS</li><li>Verify no file icon on channel header (right of pinned posts)</li></ol></li><li>Click on Search<ol><li>Verify search hint does not have File button</li></ol></li><li>Complete a search <ol><li>Verify search results do not have a File button</li></ol></li></ol></article>

**Expected**

> <article><ul><li>Attachment paper clip icon is not visible</li><li>File icon on channel header (right of pinned posts) is not visible</li><li>Verify search hint does not have File button</li><li>Verify search results do not have a File button</li></ul></article>

**Step Info**
| Name | Value |
| :--- | :--- |
| Fix Versions | Queued |
| Related ticket(s) | <ul><li>(☁️ Cloud) <a href="https://mattermost.atlassian.net/browse/MM-30079">Consider hiding or enabling System Console settings that Cloud admins cannot change — MM-30079</a></li><li>(☁️ Cloud) <a href="https://mattermost.atlassian.net/browse/MM-30874">We're not hiding the File sharing and downloads options — MM-30874</a></li><li><a href="https://mattermost.atlassian.net/browse/MM-30905">Cloud - Able to share files with File Sharing and Downloads set to false — MM-30905</a></li></ul> |

<hr/>

**Step 2**

> <article><ol><li>Drag and drop a file on center and RHS</li></ol></article>

**Expected**

> <article><ul><li>Drag and drop a file produces error message "File attachments are disabled"</li></ul></article>

<hr/>

**Step 3**

> <article><ol><li>Copy a file and paste in message box and reply box</li></ol></article>

**Expected**

> <article><ul><li>Copy and pasting a file produces error message</li></ul></article>

<hr/>

**Step 4**

> <article><ol><li>Use keyboard shortcut CMD/CTRL+U</li></ol></article>

**Expected**

> <article><ul><li>Keyboard shortcut CTRL/CMD+U produces error message</li></ul></article>

<hr/>

### More Info

| Name                     | Value                                         |
| :----------------------- | :-------------------------------------------- |
| Priority P1 to P4        | P2 - Core Functions (Do core functions work?) |
| Team Ownership           | Channels                                      |
| Manual Test Environments | Automated - No manual tests needed            |
| Cypress                  | Update                                        |
| Tags                     | Cloud N/A                                     |
| Location                 | System Console                                |
