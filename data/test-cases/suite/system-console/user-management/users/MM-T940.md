---
key: MM-T940
title: Users - Revoke all sessions
---

## MM-T940: Users - Revoke all sessions

### Details

| Name     | Value                                                                                                                                           |
| :------- | :---------------------------------------------------------------------------------------------------------------------------------------------- |
| Priority | Normal                                                                                                                                          |
| Status   | Active                                                                                                                                          |
| Folder   | Suite / System Console / User Management / Users                                                                                                |
| Labels   | User-Management,No-Automated-Executions,TM4J-Key-Missing-In-Cypress,system-console,fix-versions-not-empty-2022cleanup,cy-rep-missing-or-skipped |
| Created  | 2020-01-21T15:48:58Z                                                                                                                            |

### Steps

<hr/>

**Step 1**

> <article><ol><li>Log on as test user (who you want to revoke sessions for), on multiple browsers / devices (at least 2 to 3 different sessions)<br><strong>Examples</strong>: Mac, Windows, iOS, Android (RN or Classic); various browsers; desktop app<ul><li>Mobile apps can have screen locked or not</li><li>Non-mobile can be with computer awake or asleep</li><li>Can log them in using any method (email/password, SAML, LDAP, OAuth)</li><li>Keep them visible, to watch for sessions ending</li></ul></li><li>Logged in as system admin on another browser / device, go to System Console ➜ Users</li><li>Click on the 'Revoke All Sessions' button displayed at the bottom of the Users listing page.</li><li>A confirmation message should be displayed.</li><li>Click on Cancel in the message and check if no sessions are deactivated.</li><li>Click on the 'Revoke All Sessions' button again and confirm.</li></ol></article>

**Expected**

> <article><ul><li>Check if a confirmation message is displayed "This action revokes all sessions in the system. All users will be logged out from all devices. Are you sure you want to revoke all sessions?"</li><li>When user clicks on Cancel button in the confirmation message, the existing user's session should still be active.</li><li>All the users' session should be automatically logged out from all the browsers and devices when 'Revoke All Sessions' option was clicked in the confirmation message.</li><li>Users should be redirected to login page and a message should be displayed in the login page 'Your session has expired. Please log in again.'</li><li>Even the current system admin's session should also be deactivated and user should be redirected to the login page.</li></ul></article>

**Step Info**
| Name | Value |
| :--- | :--- |
| Fix Versions | v5.16 (Oct 2019) |
| Related ticket(s) | <ul><li><a href="https://mattermost.atlassian.net/browse/MM-12440">Add the ability to revoke all user sessions of the system in System Console &gt; Users — MM-12440</a></li><li><a href="https://mattermost.atlassian.net/browse/MM-17020">Cypress Automation: Revoke All Sessions — MM-17020</a></li></ul> |

<hr/>

### More Info

| Name                     | Value                                                                                       |
| :----------------------- | :------------------------------------------------------------------------------------------ |
| Priority P1 to P4        | P2 - Core Functions (Do core functions work?)                                               |
| Update notes             | Steve Mudie — Thursday, October 01, 2020 4:10 PM<br>• Set back to Active for manual testing |
| Team Ownership           | Channels                                                                                    |
| Manual Test Environments | Webapp,Cloud                                                                                |
| Cypress                  | Update                                                                                      |
| Location                 | System Console                                                                              |
