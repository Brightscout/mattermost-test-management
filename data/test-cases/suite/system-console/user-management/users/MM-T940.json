{
  "id": 4049512,
  "key": "MM-T940",
  "name": "Users - Revoke all sessions",
  "createdOn": "2020-01-21T15:48:58Z",
  "objective": null,
  "precondition": null,
  "estimatedTime": null,
  "labels": [
    "User-Management",
    "No-Automated-Executions",
    "TM4J-Key-Missing-In-Cypress",
    "system-console"
  ],
  "component": null,
  "priority": { "id": 401950, "name": "Normal" },
  "status": { "id": 890281, "name": "Active" },
  "folder": {
    "id": 570073,
    "name": "Users",
    "parentId": 538610,
    "fullNames": ["Suite", "System Console", "User Management", "Users"],
    "fullPath": "suite/system-console/user-management/users"
  },
  "customFields": {
    "Fix Versions": ["v5.16 (Oct 2019)"],
    "Playwright": null,
    "Authors": "",
    "Priority P1 to P4": "P2 - Core Functions (Do core functions work?)",
    "Update notes": "Steve Mudie — Thursday, October 01, 2020 4:10 PM<br>• Set back to Active for manual testing",
    "Rainforest": [],
    "Cypress Reports": "MISSING - TM4J-Key-Missing-In-Cypress - TM4J key NOT found in any Cypress run reports  (SDET/QA)",
    "Team Ownership": ["Channels"],
    "Manual Test Environments": ["Webapp", "Cloud"],
    "Detox": null,
    "Cypress": "Update",
    "MMCTL": null,
    "Last Updated": "",
    "Selenium": null,
    "Tags": [],
    "Location": "System Console"
  },
  "steps": [
    {
      "inline": {
        "description": "<ol><li>Log on as test user (who you want to revoke sessions for), on multiple browsers / devices (at least 2 to 3 different sessions)<br><strong>Examples</strong>: Mac, Windows, iOS, Android (RN or Classic); various browsers; desktop app<ul><li>Mobile apps can have screen locked or not</li><li>Non-mobile can be with computer awake or asleep</li><li>Can log them in using any method (email/password, SAML, LDAP, OAuth)</li><li>Keep them visible, to watch for sessions ending</li></ul></li><li>Logged in as system admin on another browser / device, go to System Console ➜ Users</li><li>Click on the 'Revoke All Sessions' button displayed at the bottom of the Users listing page.</li><li>A confirmation message should be displayed.</li><li>Click on Cancel in the message and check if no sessions are deactivated.</li><li>Click on the 'Revoke All Sessions' button again and confirm.</li></ol>",
        "testData": "",
        "expectedResult": "<ul><li>Check if a confirmation message is displayed \"This action revokes all sessions in the system. All users will be logged out from all devices. Are you sure you want to revoke all sessions?\"</li><li>When user clicks on Cancel button in the confirmation message, the existing user's session should still be active.</li><li>All the users' session should be automatically logged out from all the browsers and devices when 'Revoke All Sessions' option was clicked in the confirmation message.</li><li>Users should be redirected to login page and a message should be displayed in the login page 'Your session has expired. Please log in again.'</li><li>Even the current system admin's session should also be deactivated and user should be redirected to the login page.</li></ul>",
        "customFields": {
          "Fix Versions": ["v5.16 (Oct 2019)"],
          "Related ticket(s)": "<ul><li><a href=\"https://mattermost.atlassian.net/browse/MM-12440\">Add the ability to revoke all user sessions of the system in System Console &gt; Users — MM-12440</a></li><li><a href=\"https://mattermost.atlassian.net/browse/MM-17020\">Cypress Automation: Revoke All Sessions — MM-17020</a></li></ul>",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    }
  ],
  "caseHashed": "9262de815edd945cbb98a4af201bc47c030da3c10f5f893116167239e42558879f8ad4f563cd53301b4e9110759754bf",
  "stepsHashed": "ec53da129f8b35404ad78c9ffe12283882b1d52a50be1d05cac1a7a72dd1bf558ba33717cdbc7f5852e6357f8d39f2c0"
}
