---
key: MM-T1200
title: RN apps: Custom TOS - MFA required, user without MFA set up logs in, sets up MFA, agrees to new Terms of Service
---

## MM-T1200: RN apps: Custom TOS - MFA required, user without MFA set up logs in, sets up MFA, agrees to new Terms of Service

**Precondition**

> <article><strong>Skip until fixed (blocked by </strong><a href="https://mattermost.atlassian.net/browse/MM-13547"><strong>MM-13547</strong></a><strong>)</strong></article>

### Details

| Name     | Value                                                         |
| :------- | :------------------------------------------------------------ |
| Priority | Normal                                                        |
| Status   | Update                                                        |
| Folder   | Suite / System Console / Compliance / Custom Terms of Service |
| Labels   | system-console,fix-versions-not-empty-2022cleanup             |
| Created  | 2020-01-22T19:26:34Z                                          |

### Steps

<hr/>

**Step 1**

> <article><strong>*** ENSURE your system admin has MFA set up BEFORE you make it required on the server! ***<br></strong><br><strong>Just to repeat this</strong>:<ol><li>With your system admin account, go to Account Settings ➜ Security ➜ MFA and set up MFA on your system admin account FIRST</li><li>Then enforce MFA: System Console ➜ Authentication ➜ MFA</li><li>Enable or update existing terms of service</li><li>Login with a user that has neither setup MFA nor agreed to the terms of service</li></ol></article>

**Test Data**

> <article>This one is not for RN, seems like; on RN you see error "Multi-factor authentication is required on this server" and have to set up MFA on webapp<br><br><strong><span style="color: rgb(209, 72, 65);">Skip until fixed (blocked by </span></strong><a href="https://mattermost.atlassian.net/browse/MM-13547"><strong><span style="color: rgb(209, 72, 65);">MM-13547</span></strong></a><strong><span style="color: rgb(209, 72, 65);">)</span></strong><br><br>Unable to load terms of service. If this issue persists, contact your System Administrator.</article>

**Expected**

> <article><ul><li>MFA prompt</li><li>Terms of Service are shown after MFA setup</li></ul></article>

**Step Info**
| Name | Value |
| :--- | :--- |
| Fix Versions | Unscheduled |
| Related ticket(s) | <ul><li>(<strong><span style="color: rgb(65, 168, 95);">Story</span></strong>)&nbsp;<a href="https://mattermost.atlassian.net/browse/MM-13547">Centralize routing logic in root.jsx — MM-13547</a></li><li>(<span style="color: rgb(184, 49, 47);">Unscheduled</span>) <a href="https://mattermost.atlassian.net/browse/MM-13509">Login is not working when TOS is enabled and MFA is enforced — MM-13509</a></li></ul> |

<hr/>

### More Info

| Name                     | Value                                                                                                                                                                                                                                                                                                                   |
| :----------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Update notes             | Steve Mudie — Wednesday, September 16, 2020 6:32 PM<br>• Skip until fixed (blocked by <a href="https://mattermost.atlassian.net/browse/MM-13547">MM-13547</a>)<br><br>Lindy Isherwood, October 21, 2020 09:49AM<ul><li>Marked this test N/A for Rainforest as it is not possible to set up MFA on the VMs</li></ul><br> |
| Rainforest               | N/A                                                                                                                                                                                                                                                                                                                     |
| Team Ownership           | Suite Users                                                                                                                                                                                                                                                                                                             |
| Manual Test Environments | Mobile                                                                                                                                                                                                                                                                                                                  |
| Detox                    | Evaluating                                                                                                                                                                                                                                                                                                              |
| Cypress                  | N/A                                                                                                                                                                                                                                                                                                                     |
| Location                 | System Console                                                                                                                                                                                                                                                                                                          |
