{
  "id": 8553192,
  "key": "MM-T3667",
  "name": "Download Compliance Export File - Only User with permission should download compliance export",
  "createdOn": "2021-01-12T18:17:43Z",
  "objective": null,
  "precondition": null,
  "estimatedTime": null,
  "labels": ["system-console"],
  "customFields": {
    "Playwright": null,
    "Authors": "",
    "Priority P1 to P4": "P3 - Deep Functions (Do extensive scenarios work?)",
    "Update notes": "",
    "Rainforest": [],
    "Team Ownership": ["Suite Users"],
    "Manual Test Environments": [],
    "Detox": null,
    "Cypress": "Ticket Open",
    "MMCTL": null,
    "Last Updated": "",
    "Tags": ["Never tested"],
    "Location": "System Console"
  },
  "componentName": null,
  "priorityName": "Smoke test",
  "statusName": "Active",
  "folderName": "Compliance Export",
  "folderFullPath": "suite/system-console/compliance/compliance-export",
  "steps": [
    {
      "inline": {
        "description": "1. Ensure the DownloadExportResults config is set to true in config.json and restart the server.&nbsp;<br>2. Login as System Admin and trigger a compliance export for CSV and ensure some messages are exported.&nbsp;<br>3. Now login as System Manager and notice that there is no option to view Compliance Exports.&nbsp;<br>4. Now trigger the following API:<br>/api/v4/jobs/type/message_export?page=0&amp;per_page=50<br>5. This will return the ID of the exported file which can be downloaded.&nbsp;<br>6. Now access the following API from the browser:<br>/api/v4/jobs/&lt;JOB_ID&gt;/download",
        "testData": null,
        "expectedResult": "System User should not be able to download and following Json message should show up,<br><pre>\"message\":\"You do not have the appropriate permissions.\"</pre><br><img src=\"https://smartbear-tm4j-prod-us-west-2-attachment-rich-text.s3.us-west-2.amazonaws.com/embedded-f3277290f945470c4add5d21ef3dc7ca7b74388fc7152bfb6b99ae58c66a95a8-1610475224466-1610475224465.png\" style=\"width: 523px;\" class=\"fr-fic fr-fil fr-dib\"><br>",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    }
  ],
  "caseHashed": "8392c3f6fce2adfbae80709795b2babda764330b442922e3d53a16929f38751772f62adff2e2fc99b67c8d38cf29a459",
  "stepsHashed": "58665c4eb9e337479eebd40550ce3a6d90f2f7b9aa6e4e5713fc9c594dcbf1f22b52061bb1c1fa74e95a24b6093cc200"
}
