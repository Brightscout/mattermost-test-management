---
name: "Data Retention - Entries not removed from Audits Table"
status: Active
priority: Normal
team_ownership: "Suite Users"
---

## MM-T1164: Data Retention - Entries not removed from Audits Table

---

**Step 1**

**\*\* DO NOT RUN THIS TEST UNTIL WE HAVE A BACKUP DATABASE FOR THE TEST SERVER \*\***\
\
Data Retention - Entries not removed from Audits Table\
–––––––––––––––––––––––––

1. Ensure a user has logged in multiple times and there are records present in Account Settings ➜ Security ➜ Access History page (at least more than 30 days old)
2. Login as SysAdmin and navigate to System Console ➜ Data Retention Policy and set "Message Retention" to "Keep messages for a set amount of time" and 30 days
3. Run the Deletion Job Now and once the job is completed successfully, check if the user's login history more than 30 days old should not be deleted in Account Settings ➜ Security ➜ Access History page
4. Also check no records are deleted from the Audits table even when there are records older than 30 days in it.

**Expected**

- Running the Deletion job in Data Retention Policy should not remove any entries related to user's Access history
