{
  "id": 8205138,
  "key": "MM-T3655",
  "name": "Verify the different v2 Admin Advisory Notification support email on TE instance",
  "createdOn": "2020-12-14T19:59:08Z",
  "objective": null,
  "precondition": null,
  "estimatedTime": null,
  "labels": ["Cloud-N/A", "system-console"],
  "component": { "id": 14314, "name": "System Console" },
  "priority": { "id": 401950, "name": "Normal" },
  "status": { "id": 890281, "name": "Active" },
  "folder": {
    "id": 864964,
    "name": "Admin Advisor",
    "parentId": 404340,
    "fullNames": ["Suite", "System Console", "Admin Advisor"],
    "fullPath": "suite/system-console/admin-advisor"
  },
  "customFields": {
    "Fix Versions": ["v5.28 (October 2020)"],
    "Playwright": null,
    "Authors": "",
    "Priority P1 to P4": "P2 - Core Functions (Do core functions work?)",
    "Update notes": "",
    "Rainforest": [],
    "Cypress Reports": null,
    "Team Ownership": ["Channels"],
    "Manual Test Environments": ["Webapp"],
    "Detox": null,
    "Cypress": "N/A",
    "MMCTL": null,
    "Last Updated": "",
    "Selenium": null,
    "Tags": ["Cloud N/A"],
    "Location": "System Console"
  },
  "steps": [
    {
      "inline": {
        "description": "Run the following test on TE instance<br><br>Pre-requisites:<br>1. Modify the interval of runCheckWarnMetricStatusJob in the file app/server.go to 1 minute.<br>Change it from: <code>time.Hour*model.WARN_METRIC_JOB_INTERVAL</code> to <code>time.Minute*1</code><br>2. Modify the interval of WARN_METRIC_JOB_WAIT_TIME in model/system.go to 1000 * 60<br>3. Modify the following thresholds in model/system.go file<br><table style=\"width: 100%;\"><tbody><tr><td style=\"width: 50.0000%;\">SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_100<br></td><td style=\"width: 50.0000%;\">10</td></tr><tr><td style=\"width: 50.0000%;\">SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_200<br></td><td style=\"width: 50.0000%;\">20</td></tr><tr><td style=\"width: 50.0000%;\">SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_300<br></td><td style=\"width: 50.0000%;\">30</td></tr><tr><td style=\"width: 50.0000%;\">SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500<br></td><td style=\"width: 50.0000%;\">50</td></tr><tr><td style=\"width: 50.0000%;\">SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M<br></td><td style=\"width: 50.0000%;\">1000</td></tr><tr><td style=\"width: 50.0000%;\"><br></td><td style=\"width: 50.0000%;\"><br></td></tr></tbody></table><br>4. Ensure there are around 100 registered users, 10 teams and 50 channels<br>5. Turn on the MFA<br>6. Restart the server and check if all the required advisory notifications are shown to the users after every 1 minute<br>7. Click on Contact Us<br>8. Go to http://localhost:10080/monitor<br>9. Change SMTP Server Port to 1234 in admin_console/environment/smtp<br>10. Log off then Log in<br>11. Go to Advisory Notification Page and Click Contact Us<br>12. Click Email Us button.<br><br><br>",
        "testData": null,
        "expectedResult": "6. Advisory notification show up with Contact Us button.<br>7. Request was sent to support-advisor@mattermost.com<br>11. Email us button shows up<br>12. Email Client will be appeared with following TO support-advisor@mattermost.com,<br><br><h1>&nbsp;<img src=\"https://smartbear-tm4j-prod-us-west-2-attachment-rich-text.s3.us-west-2.amazonaws.com/embedded-f3277290f945470c4add5d21ef3dc7ca7b74388fc7152bfb6b99ae58c66a95a8-1607977202688-1607977202688.png\" style=\"width: 300px;\" class=\"fr-fic fr-fil fr-dib\"></h1>",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    }
  ],
  "caseHashed": "08fa77af9321f4284d113630d7ce0ec6d03c45f1de7d5ee7c64d0ea89bc17a58d5441331e950dd45e707e36339283ca3",
  "stepsHashed": "2eee8a516f344ef8995a70901f85a5e137a4ee7c4c524148bfb829a786cef8e3c378945db2d46893e197df40a1ddd0b2"
}
