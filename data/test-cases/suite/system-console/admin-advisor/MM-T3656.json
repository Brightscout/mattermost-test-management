{
  "id": 8206363,
  "key": "MM-T3656",
  "name": "Verify the different v2 Admin Advisory Banner Notification support email on TE/E0 instance",
  "createdOn": "2020-12-14T20:24:54Z",
  "objective": null,
  "precondition": null,
  "estimatedTime": null,
  "labels": ["Cloud-N/A", "system-console", "fix-versions-not-empty-2022cleanup"],
  "component": { "id": 14314, "name": "System Console" },
  "priority": { "id": 401950, "name": "Normal" },
  "status": { "id": 890281, "name": "Active" },
  "folder": {
    "id": 864964,
    "name": "Admin Advisor",
    "parentId": 404340,
    "fullNames": ["Suite", "System Console", "Admin Advisor"],
    "fullPath": "suite/system-console/admin-advisor"
  },
  "customFields": {
    "Playwright": null,
    "Authors": "",
    "Priority P1 to P4": "P2 - Core Functions (Do core functions work?)",
    "Update notes": "",
    "Rainforest": [],
    "Team Ownership": ["Channels"],
    "Manual Test Environments": ["Webapp"],
    "Detox": null,
    "Cypress": "N/A",
    "MMCTL": null,
    "Last Updated": "",
    "Tags": ["Cloud N/A"],
    "Location": "System Console"
  },
  "steps": [
    {
      "inline": {
        "description": "Run the following test on TE instance<br><br>Pre-requisites:<br>1. Modify the interval of runCheckWarnMetricStatusJob in the file app/server.go to 1 minute.<br>Change it from: <code>time.Hour*model.WARN_METRIC_JOB_INTERVAL</code> to <code>time.Minute*1</code><br>2. Modify the interval of WARN_METRIC_JOB_WAIT_TIME in model/system.go to 1000 * 60<br>3. Modify <strong>MaxUsersPerTeam:1000&nbsp;</strong>in Config.json<br>4. Modify the following thresholds in model/system.go file<br><table style=\"width: 100%;\"><tbody><tr><td style=\"width: 50.0000%;\">SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_100<br></td><td style=\"width: 50.0000%;\">10</td></tr><tr><td style=\"width: 50.0000%;\">SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_200<br></td><td style=\"width: 50.0000%;\">20</td></tr><tr><td style=\"width: 50.0000%;\">SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_300<br></td><td style=\"width: 50.0000%;\">30</td></tr><tr><td style=\"width: 50.0000%;\">SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500<br></td><td style=\"width: 50.0000%;\">50</td></tr><tr><td style=\"width: 50.0000%;\">SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M<br></td><td style=\"width: 50.0000%;\">1000</td></tr><tr><td style=\"width: 50.0000%;\"><br></td><td style=\"width: 50.0000%;\"><br></td></tr></tbody></table><br>5. Restart the server and check if all the required advisory<br>notifications are shown to the users after every 1 minute<br>6. Add more than 500 users using following command, /test users fuzz 500 500.<br>7. Click on Acknowledge button<br>8. Go to http://localhost:10080/monitor<br>9. Change SMTP Server Port to 1234 in admin_console/environment/smtp<br>10. Reset database and restart server.<br>11. Go to Advisory Banner Notification Page and Click Acknowledge<br>&nbsp;<br><br><br><br>",
        "testData": null,
        "expectedResult": "6. Advisory Banner notification show up<br>8. Request was sent to support-advisor@mattermost.com<br>11. Email us button shows up<br>12. Email Client will be appeared with following TO support-advisor@mattermost.com,<br><br><h1><img src=\"https://smartbear-tm4j-prod-us-west-2-attachment-rich-text.s3.us-west-2.amazonaws.com/embedded-f3277290f945470c4add5d21ef3dc7ca7b74388fc7152bfb6b99ae58c66a95a8-1607978644009-1607978644009.png\" style=\"width: 300px;\" class=\"fr-fic fr-fil fr-dib\"></h1>",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    }
  ],
  "caseHashed": "d9545d64e9c6c529893acc5a52afa5b26bd32e24ccaa1f819c7b52d118a6ad10922c1eacf63e792ec23bfd3357a83cb0",
  "stepsHashed": "7793d90794eb01b3fa061569e3befa31a19b82ed932f9ffe0e4151925d9622bdbd266b860314c972f116f6bfef669756"
}
