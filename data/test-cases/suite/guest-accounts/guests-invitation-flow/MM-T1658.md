---
name: "Autocomplete returns guest users with no teams when Elasticsearch indexing is enabled"
status: Update
priority: Normal
team_ownership: "Suite Users"
---

## MM-T1658: Autocomplete returns guest users with no teams when Elasticsearch indexing is enabled

**Precondition**

This can be tested with these steps on mysql.test. or rc.test where LDAP is set-up.

---

**Step 1**

1\. Log in as a system admin and make sure elasticsearch is enabled\
2\. Create a guest user that is not on any team. This can be accomplished by creating an LDAP Guest Filter and logging in as a user matching that filter. (Ie. â€œ(uid=Test.One)" for jumpcloud user Test.One)\
"GuestFilter": "(uid=Test.One)"\
3\. Log in as Test.One

**Expected**

User receives a warning that they don't belong to any teams

---

**Step 2**

4\. As the admin, go to Invite People > Invite Guests\
5\. Attempt to invite the user to the team by typing the first few characters (e.g. Test)

**Expected**

Guest "Test.One" is displayed in the autocomplete
