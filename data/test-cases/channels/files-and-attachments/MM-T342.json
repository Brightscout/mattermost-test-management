{
  "id": 3877382,
  "key": "MM-T342",
  "name": "RN apps: Animated gifs posted as file attachments should not appear animated in channel",
  "createdOn": "2020-01-02T22:06:19Z",
  "objective": null,
  "precondition": "<strong><span style=\"color: rgb(184, 49, 47);\">Test on</span> <a href=\"https://community-release.mattermost.com\">https://community-release.mattermost.com</a> (it has image proxy set up)</strong>",
  "estimatedTime": null,
  "labels": ["1.42-p123", "files-and-attachments", "fix-versions-not-empty-2022cleanup"],
  "customFields": {
    "Playwright": null,
    "Authors": "",
    "Priority P1 to P4": "P4 - Low-Impact (Edge or unsuitable to repeat?)",
    "Update notes": "Linda Mitchell — 13 Jul 2021<br />- Changed to P4; this test case consistently flaky b/c of third-party links and changes on their side. Not high enough impact to continue to try to maintain this test.<br />Steve Mudie — Friday, October 16, 2020 6:47 PM<br />• Added link to MM-29282 discovered in most recent RC test cycle",
    "Rainforest": ["N/A"],
    "Team Ownership": ["Channels"],
    "Manual Test Environments": ["Mobile"],
    "Detox": "N/A",
    "Cypress": "N/A",
    "MMCTL": null,
    "Last Updated": "",
    "Tags": [],
    "Location": "Files and Attachments"
  },
  "componentName": null,
  "priorityName": "Low",
  "statusName": "Active",
  "folderName": "Files and Attachments",
  "folderFullPath": "channels/files-and-attachments",
  "steps": [
    {
      "inline": {
        "description": "RN apps: Animated gif (file extension not specified, on server with image proxy)<br />–––––––––––––––––––––––––<br /><strong>Note</strong>: Test on <a href=\"https://community-release.mattermost.com\">community-release.mattermost.com</a> (it has image proxy set up)<ol><li>Post the following (ensure link previews are enabled in your Account Settings):<br /><br />https://mltshp.com/p/1E5YH<br /><br /></li><li>In a separate message, post the following:<br /><br />![img](https://mltshp-cdn.com/r/1E5YH)<br /><br /></li><li>View the posts</li></ol>",
        "testData": "",
        "expectedResult": "<ul><li>Both the link preview thumbnail and the embedded/inline image appear animated</li></ul>",
        "customFields": {
          "Fix Versions": ["v5.14 (August 2019)", "v1.28 Mobile (Feb 2020)", "Queued"],
          "Related ticket(s)": "<ul><li><a href=\"https://mattermost.atlassian.net/browse/MM-16817\"></a>(<span style=\"color:rgb(184, 49, 47)\">Unable to repro</span>) <a href=\"https://mattermost.atlassian.net/browse/MM-26590\">iOS App: Animated gifs posted as file attachments do not load at all — MM-26590</a></li><li><a href=\"https://mattermost.atlassian.net/browse/MM-16817\">Link to an animation in opengraph is not working — MM-16817</a></li><li>(<span style=\"color:rgb(184, 49, 47)\">Duplicate</span>) <a href=\"https://mattermost.atlassian.net/browse/MM-21619\">Release Testing - no IOS animation for https://mltshp.com/p/1E5YH — MM-21619</a></li><li><a href=\"https://mattermost.atlassian.net/browse/MM-29282\">[android] broken gif doesn't display anything (not a broken img icon even) — MM-29282</a></li><li><table><tbody><tr><td><a href=\"https://mattermost.atlassian.net/browse/MM-33624\">RC Testing: Android, animated preview image not displayed — MM-33624</a></td></tr></tbody></table></li></ul>",
          "Important notes about this step": "You can find test files here: <a href=\"https://drive.google.com/drive/folders/1xGCy3tp9A_WxOfdgAzBHzrqJ1WCyfSjW\" rel=\"noopener noreferrer\" target=\"_blank\">https://drive.google.com/drive/folders/1xGCy3tp9A_WxOfdgAzBHzrqJ1WCyfSjW</a>"
        }
      },
      "testCase": null
    },
    {
      "inline": {
        "description": "<ol><li>From the desktop, upload an animated gif as a file attachment and post it in a channel</li><li>View that channel in the mobile app</li><li>Observe the image is not animated in channel view</li><li>Tap the image to view it in image viewer</li></ol>",
        "testData": "<img src=\"https://smartbear-tm4j-prod-us-west-2-attachment-rich-text.s3.us-west-2.amazonaws.com/embedded-f3277290f945470c4add5d21ef3dc7ca7b74388fc7152bfb6b99ae58c66a95a8-1582897265148-wipe_up_med.gif\" style=\"width:381px\" class=\"fr-fil fr-dib\" />",
        "expectedResult": "<ul><li>GIFs appears animated only after tapping to open the image</li></ul>",
        "customFields": {
          "Fix Versions": ["v1.30 Mobile (April 2020)"],
          "Related ticket(s)": "<ul><li>(<span style=\"color:rgb(184, 49, 47)\">Invalid</span>) <a href=\"https://mattermost.atlassian.net/browse/MM-22302\">RN Android: Link preview thumbnails don't load until reloading the app — MM-22302</a></li><li>(<strong><span style=\"color:rgb(65, 168, 95)\">Story</span></strong>) <a href=\"https://mattermost.atlassian.net/browse/MM-21310\">RN iOS: Animated gifs posted as file attachments do not animate — MM-21310</a></li><li>(<span style=\"color:rgb(184, 49, 47)\">Invalid</span>) <a href=\"https://mattermost.atlassian.net/browse/MM-24878\">RN: Animated GIF shown static in the channel (working fine in preview) — MM-24878</a></li><li><a href=\"https://mattermost.atlassian.net/browse/MM-31200\">animated gif shows in channel as a broken icon — MM-31200</a></li></ul>",
          "Important notes about this step": "<span style=\"color:rgb(184, 49, 47)\">Note</span>: Updated May 2020 to reflect that animation in-channel was reverted in <a href=\"https://github.com/mattermost/mattermost-mobile/pull/4084\" rel=\"nofollow noreferrer\">https://github.com/mattermost/mattermost-mobile/pull/4084</a> and the animation occurs only after tapping the image to view."
        }
      },
      "testCase": null
    }
  ],
  "caseHashed": "ddf71282fadb67221f98f1202f212c209258e02d9681147f2d97b691c69f79a547b37a770600c080ce57a56820311417",
  "stepsHashed": "b8f319afdf3ed00e2351822629d7dc7013fc43ce53397da08cc8713bfa4a34dcd9f2a405321cfebc2660cce36cbab1fd"
}
