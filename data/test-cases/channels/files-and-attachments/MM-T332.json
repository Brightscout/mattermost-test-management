{
  "id": 3877372,
  "key": "MM-T332",
  "name": "Image link preview - Bitly links for images and YouTube",
  "createdOn": "2020-01-02T22:06:16Z",
  "objective": null,
  "precondition": "",
  "estimatedTime": null,
  "labels": [
    "Hackfest",
    "TM4J-Key-Mapped-In-Cypress-Release",
    "1.42-p123",
    "files-and-attachments",
    "fix-versions-not-empty-2022cleanup"
  ],
  "component": null,
  "priority": { "id": 401951, "name": "Low" },
  "status": { "id": 890281, "name": "Active" },
  "folder": {
    "id": 404283,
    "name": "Files and Attachments",
    "parentId": 3142963,
    "fullNames": ["Channels", "Files and Attachments"],
    "fullPath": "channels/files-and-attachments"
  },
  "customFields": {
    "Playwright": null,
    "Authors": "",
    "Priority P1 to P4": "P3 - Deep Functions (Do extensive scenarios work?)",
    "Update notes": "Steve Mudie â€” Wednesday, September 23, 2020 5:08 PM<br />â€¢ Cypress Automation working as expected ðŸŽ‰<br />â€¢ Removed from Webapp manual pool",
    "Rainforest": ["Evaluating"],
    "Team Ownership": ["Channels"],
    "Manual Test Environments": ["Mobile"],
    "Detox": null,
    "Cypress": "Update",
    "MMCTL": null,
    "Last Updated": "",
    "Tags": [],
    "Location": "Files and Attachments"
  },
  "steps": [
    {
      "inline": {
        "description": "Image link preview - Bitly links for images and YouTube<br />â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“<ol><li>Make sure image previews setting is set to Expanded in Account Settings âžœ Display âžœ Default Appearance of Image Previews</li><li>In a test channel, post the following <strong><span style=\"color:rgb(184, 49, 47)\">in 2 separate posts</span></strong>:<ul><li><strong>YouTube bitly link</strong>: https://bit.ly/2NlYsOr</li><li><strong>Image bitly link</strong>: https://bit.ly/2wqEbjw</li></ul></li><li>Click on the \"collapse\" arrow of the image preview to close it</li><li>Click on the \"expand\" arrow to open the preview again<br /><br /></li></ol><strong>Notes</strong>:<ul><li>The YouTube preview will not expand or collapse</li><li>Steps 3 and 4 are N/A for RN</li></ul>",
        "testData": "",
        "expectedResult": "<ul><li>Ensure the YouTube and image previews post and display in expanded view when you first post</li></ul><br /><strong>Desktop app &amp; webapp</strong><ul><li>Clicking the YouTube preview will not play the video</li><li>Clicking the bit.ly link or descriptive link will launch the video in a new browser tab</li></ul><br /><strong>Mobile app</strong><ul><li>Tapping the YouTube preview will play the video in Mattermost</li><li>Tapping the bit.ly link on Mobile will launch a browser and play the video there</li></ul>",
        "customFields": {
          "Fix Versions": [
            "v1.22 Mobile (Aug 2019)",
            "v5.10 (April 2019)",
            "v1.35 Mobile (September 2020)"
          ],
          "Related ticket(s)": "<ul><li><a href=\"https://mattermost.atlassian.net/browse/MM-14929\">Image links do not preview for shortened links â€” MM-14929</a></li><li>(<span style=\"color:rgb(184, 49, 47)\">Won't Fix</span>) <a href=\"https://mattermost.atlassian.net/browse/MM-15072\" rel=\"noopener noreferrer\" target=\"_blank\">YouTube videos render as OpenGraph previews for shortened links â€” MM-15072</a></li><li><a href=\"https://mattermost.atlassian.net/browse/MM-16816\" rel=\"noopener noreferrer\" target=\"_blank\">[RN] If I use \"Https\" instead of \"https\" in the url of an image it doesn't show the preview in Android â€” MM-16816</a></li><li>(<span style=\"color:rgb(184, 49, 47)\">Invalid</span>) <a href=\"https://mattermost.atlassian.net/browse/MM-27501\">Bitly YouTube links can not be expanded or collapsed â€” MM-27501</a><br /><strong>From the ticket</strong>: This is working as intended since the behaviour changed a while back.</li><li>(<span style=\"color:rgb(184, 49, 47)\">Invalid</span>) <a href=\"https://mattermost.atlassian.net/browse/MM-27694\">[RN] Bit.ly YouTube preview displays play button in preview but doesn't play video â€” MM-27694</a></li><li><a href=\"https://mattermost.atlassian.net/browse/MM-27711\">YouTube videos render as OpenGraph objects but also display play buttons when posted using bit.ly links â€” MM-27711</a></li><li><a href=\"https://mattermost.atlassian.net/browse/MM-31198\">Blank page on youtube short uri â€” MM-31198</a></li></ul>",
          "Important notes about this step": "<br /><br />"
        }
      },
      "testCase": null
    }
  ],
  "caseHashed": "12b8fd4bb2db82ccf278b6e901f09fb643a2c164d12c5548805d91d42e0427e0fac97b6052b8f1226d37060b470d3db3",
  "stepsHashed": "ad5ef0448e36cf79a36735ac65c294a77166b34ffd58f14c716e7bdf2a38ab6f2b052e7e82911ed5f68b0fe9ea2d57a4"
}
