---
key: MM-T346
title: Public link related to a deleted post should no longer open the file
---

## MM-T346: Public link related to a deleted post should no longer open the file

### Details

| Name     | Value                                                                               |
| :------- | :---------------------------------------------------------------------------------- |
| Priority | Normal                                                                              |
| Status   | Active                                                                              |
| Folder   | Channels / Files and Attachments                                                    |
| Labels   | Hackfest,TM4J-Key-Mapped-In-Cypress-Release,Cloud-N/A,cy-prod,files-and-attachments |
| Created  | 2020-01-02T22:06:20Z                                                                |

### Steps

<hr/>

**Step 1**

> <article>Public link related to a deleted post should no longer open the file<br>â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“<br><ol><li>Make a post with any file attached</li><li>Click on the attachment thumbnail to open the preview</li><li>Click on "Get public link", click "copy link" then click "close"</li><li>Delete the post you made in step 2</li><li>In another browser tab, paste and navigate to the link</li></ol></article>

**Expected**

> <article>You should see an error displayed "<em>Error, Unable to get the file info, Back to Mattermost</em>"</article>

**Step Info**
| Name | Value |
| :--- | :--- |
| Important notes about this step | <ul><li>Public File Links must be "True" (in System Console âžœ Security âžœ Public Links), which already should be true on the test server</li><li>You can find test files here: <a href="https://drive.google.com/drive/folders/1xGCy3tp9A_WxOfdgAzBHzrqJ1WCyfSjW" rel="noopener noreferrer" target="_blank">https://drive.google.com/drive/folders/1xGCy3tp9A_WxOfdgAzBHzrqJ1WCyfSjW</a></li></ul> |

<hr/>

### More Info

| Name                     | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| :----------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Priority P1 to P4        | P3 - Deep Functions (Do extensive scenarios work?)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Update notes             | Steve Mudie â€” Tuesday, December 22, 2020 1:28 PM<br>â€¢ Cypress Automation working as expected ðŸŽ‰<br>â€¢ Set Cypress status to âœ… in Production<br>â€¢ Removed from relevant Manual Environments<br>â€¢ Removed TM4J-Key-Mapped-In-Cypress-Unstable label<br>â€¢ Added TM4J-Key-Mapped-In-Cypress-Release label<br>â€¢ Removed no-automated-tests label<br>â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“<br>Steve Mudie â€” Wednesday, September 23, 2020 6:49 PM<br>â€¢ Multiple failed Cypress executions<br>â€¢ Tested manually and it worked as expected<br>â€¢ Toggled Cypress status to ðŸ”§ Update<br>â€¢ Set priority to Normal (yellow)<br>â€¢ Added link to Cypress code in Traceability tab<br>â€¢ Leaving in manual pool while Cypress fails are investigated |
| Cypress Reports          | RELEASE - TM4J-Key-Mapped-In-Cypress-Release - TM4J key found Cypress release run report (SDET/QA)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Team Ownership           | Channels                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Manual Test Environments | Automated - No manual tests needed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Cypress                  | in Production                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Tags                     | Cloud N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Location                 | Files and Attachments                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
