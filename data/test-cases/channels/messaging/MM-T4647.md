---
key: MM-T4647
title: Performance test - User with large number of DMs
---

## MM-T4647: Performance test - User with large number of DMs

### Details

| Name     | Value                |
| :------- | :------------------- |
| Priority | Normal               |
| Status   | Active               |
| Folder   | Channels / Messaging |
| Created  | 2022-02-17T18:57:55Z |

### Steps

<hr/>

**Step 1**

> <article><ol><li>As user1 join a server with 1500+ users or generate them with <code>/test users 1500 1500</code></li><li>(Optional) In a channel type `<code>/test channels 100 100`</code>, hit enter</li><li>In a channel type `<code>/test dms 1500 1500`</code>, hit enter</li><li>Join the same channel with user2 and only open few DMs<ol><li>Can either use the same browser (log out b/w users) or use a separate / incognito browser and observe user1 and user2 side-by-side</li></ol></li><li>Close the tab(s) and wait 2-5 minutes</li><li>Re-open the tab and login as user1 - switch few channels, create few posts etc. - <ol><li>Verify server is usable, check for sluggishness </li><li>After v6.5 - Open dev tools, search for "channel_switch", load time should remain around 300ms or less</li></ol></li><li>Logout as user1 (or use other browser / session)</li><li>Login as user2 (or use other browser / session), switch a few channels - <ol><li>Verify server is usable, there should not be any sluggishness and "channel_switch" load time</li></ol></li></ol></article>

**Expected**

> <article><ul><li>Verify users with high number of DMs are not experiencing any sluggishness </li><li>"channel_switch" load time should remain in &lt;300ms ballpark </li></ul></article>

<hr/>

### More Info

| Name                     | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :----------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Priority P1 to P4        | P1 - Smoke Tests (App testable?)                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Update notes             | 24 Feb 2022: Linda<br />- Added manual test environments Webapp, Cloud, Desktop, Mobile<br />- Changed status to Active so it will show up in Cloudburst query and other queries for manual test cycles<br />- Added P1 for Priority so it will show up in all test cycle queries (at least for now; may move to P2 if appropriate later)<br /><br />Side note: Test command was implemented here: https://github.com/mattermost/mattermost-server/pull/19565 |
| Manual Test Environments | Webapp,Cloud,Desktop,Mobile                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Cypress                  | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
