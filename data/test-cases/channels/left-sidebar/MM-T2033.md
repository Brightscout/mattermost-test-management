---
key: MM-T2033
title: Skip API calls to get user info for GM's that are hidden on LHS
---

## MM-T2033: Skip API calls to get user info for GM's that are hidden on LHS

**Precondition**

> <article><ul><li>Test on community-release</li><li>Ensure your test user or staff Mattermost user has Account Settings &gt; Sidebar&gt; Automatically Close Direct Messages&gt; <label><span style="color: rgb(184, 49, 47);">After 7 days with no new messages &nbsp;</span><span style="color: rgb(0, 0, 0);">&lt;- enabled and has old GMs that have been auto-closed due to this setting</span></label></li></ul></article>

### Details

| Name     | Value                   |
| :------- | :---------------------- |
| Priority | Low                     |
| Status   | Update                  |
| Folder   | Channels / Left Sidebar |
| Labels   | Sidebar                 |
| Created  | 2020-05-18T14:13:28Z    |

### Steps

<hr/>

**Step 1**

> <article><ul><li>Ensure your test user or staff Mattermost user has Settings ➜ Sidebar ➜ Automatically Close Direct Messages enabled<br /><fieldset><label> <input />AFTER 7 DAYS WITH NO NEW MESSAGES</label></fieldset><br /></li><li>Your test user should have some GMs older then 7 days, that have been auto-closed for lack of interaction and are not shown on the LHS</li></ul><br /></article>

**Test Data**

> <article><img src="https://smartbear-tm4j-prod-us-west-2-attachment-rich-text.s3.us-west-2.amazonaws.com/embedded-f3277290f945470c4add5d21ef3dc7ca7b74388fc7152bfb6b99ae58c66a95a8-1589810991011-Screen+Shot+2020-05-18+at+9.53.16+AM.png" style="width:777px" class="fr-fil fr-dib" /></article>

**Step Info**
| Name | Value |
| :--- | :--- |
| Related ticket(s) | (<strong>Story</strong>) <a href="https://mattermost.atlassian.net/browse/MM-24549">Skip API calls to get user info for GM's hidden in LHS — MM-24549</a> |

<hr/>

**Step 2**

> <article><ul><li><span style="background-color:initial;font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif;letter-spacing:-0.005em">Open Dev Tools &gt; Network </span></li><li><span style="background-color:initial;font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif;letter-spacing:-0.005em">Filter by 'users?'</span></li></ul></article>

<hr/>

**Step 3**

> <article><ul><li>Count your open GMs on the LHS and verify that only as many calls are made on the network tab in dev tools as there are open GMs</li><li>Refresh the browser if needed<br /><br /></li></ul></article>

**Expected**

> <article>Only as many call are made as there are GMs on the LHS<ul><li>e.g. if you have only 3 open GMs, only 3 calls should be made and your older than 7 days GMs that were auto-closed should not be causing any call to be made here</li></ul></article>

<hr/>

**Step 4**

> <article><ul><li>Manually close one GM by clicking on the `x` to remove it from the LHS and refresh the browser </li></ul></article>

**Expected**

> <article><ul><li>You should see one less call made than in the previous step </li></ul></article>

<hr/>

### More Info

| Name                     | Value                                                                                                                     |
| :----------------------- | :------------------------------------------------------------------------------------------------------------------------ |
| Fix Versions             | v5.24 (June 2020)                                                                                                         |
| Priority P1 to P4        | P3 - Deep Functions (Do extensive scenarios work?)                                                                        |
| Update notes             | jelena 12/28/2021<br />This can be archived, as the setting "Automatically Close Direct Messages" is no longer available. |
| Team Ownership           | Channels                                                                                                                  |
| Manual Test Environments | Webapp                                                                                                                    |
| Location                 | Experimental Sidebar                                                                                                      |
