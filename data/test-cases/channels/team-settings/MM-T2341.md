---
key: MM-T2341
title: Cannot add a user to a team if the user's email is not from the correct domain
---

## MM-T2341: Cannot add a user to a team if the user's email is not from the correct domain

### Details

| Name     | Value                         |
| :------- | :---------------------------- |
| Priority | Low                           |
| Status   | Active                        |
| Folder   | Channels / Team Settings      |
| Labels   | cy-prod,se-prod,team-settings |
| Created  | 2020-05-20T06:56:59Z          |

### Steps

<hr/>

**Step 1**

> <article>Cannot add a user to a team if the user's email is not from the correct domain<br>————————————————————————————<br>1. On any team, go to Team Settings.<br>2. Set an email domain in "Allow only users with a specific email domain to join this team", e.g. "mattermost.com".<br>3. Set "Allow any user with an account on this server to join this team" to "Yes".<br>4. Login as an existing user whose email is not at the domain set in 2.<br>5. As the test user select Join Another Team<br>6. Select the team modified in step 1. from the list</article>

**Expected**

> <article>User sees a message that they are unable to join the team</article>

<hr/>

### More Info

| Name                     | Value                                         |
| :----------------------- | :-------------------------------------------- |
| Priority P1 to P4        | P2 - Core Functions (Do core functions work?) |
| Team Ownership           | Channels                                      |
| Manual Test Environments | Automated - No manual tests needed            |
| Cypress                  | in Production                                 |
| Location                 | Team Settings                                 |
