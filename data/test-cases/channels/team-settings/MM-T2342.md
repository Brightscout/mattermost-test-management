---
key: MM-T2342
title: Team admn cannot add a user to the team if the email domain is enforced and does not match
---

## MM-T2342: Team admn cannot add a user to the team if the email domain is enforced and does not match

### Details

| Name     | Value                    |
| :------- | :----------------------- |
| Priority | Low                      |
| Status   | Active                   |
| Folder   | Channels / Team Settings |
| Labels   | se-prod,team-settings    |
| Created  | 2020-05-20T06:56:59Z     |

### Steps

<hr/>

**Step 1**

> <article>Team admn cannot add a user to the team if the email domain is enforced and does not match <br />&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;<br />1. On any team, go to Team Settings.<br />2. Set an email domain in &quot;Allow only users with a specific email domain to join this team&quot;, e.g. &quot;mattermost.com&quot;.<br />3. Set &quot;Allow any user with an account on this server to join this team&quot; to &quot;Yes&quot;.<br />4. As the admin, select &quot;Add Member to Team&quot;    <br />5. Loacate and select a user who's email does not match the restriction set in step 2.<br />6. Click Add</article>

**Expected**

> <article>Admin is informed that the user cannot be added due to email restrictions</article>

<hr/>

### More Info

| Name              | Value                                              |
| :---------------- | :------------------------------------------------- |
| Priority P1 to P4 | P3 - Deep Functions (Do extensive scenarios work?) |
| Team Ownership    | Channels                                           |
| Cypress           | To Do                                              |
| Selenium          | in Production                                      |
| Location          | Team Settings                                      |
