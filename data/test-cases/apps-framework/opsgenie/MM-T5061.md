---
key: MM-T5061
title: Creation and manage of OpsGenie Subscriptions
---

## MM-T5061: Creation and manage of OpsGenie Subscriptions

### Details

| Name     | Value                     |
| :------- | :------------------------ |
| Priority | Normal                    |
| Status   | Draft                     |
| Folder   | Apps Framework / OpsGenie |
| Created  | 2022-08-16T14:52:32Z      |

### Steps

<hr/>

**Step 1.2**

> <article>2. Run the `/genie configure` command<br />3. Add OpsGenie API key<br />4. Click `Submit`<br />5. Run the `/genie configure` command<br />6. Run the `/genie` command</article>

**Expected**

> <article>On 2. An empty modal asking for the OpsGenie API key appears<br />On 4. If OpsGenie API key is not valid, an error is displayed on modal, otherwise, a confirmation ephemeral post from  OpsGenie App bot appears<br />On 5. A modal with the previous OpsGenie API key appears<br />On 6. Command `/subscription`, `/alert` and `/list` are shown</article>

<hr/>

**Step 2**

> <article>2. Run the `/genie subscription add` command<br />3. Add a OpsGenie team to subscribe<br />4. Add Mattermost Channel to receive notifications<br />5. Execute action</article>

**Expected**

> <article>On 2. Both options to execute are shown: open modal or input options as part of commands<br />On 5. The data is validated. OpsGenie app bot sends response to confirm or to show error.</article>

<hr/>

**Step 3**

> <article>6. Run the `/genie subscription list` command<br />7. Run the OpsGenie command: `/genie alert create` . The alert's team should be the same as the one subscribed<br />8. Call to test OpsGenie command: `/genie alert create` . The alert's team should not be the same as the one subscribed<br />9. On OpsGenie, update any value to any alert from the subscribed OpsGenie Team</article>

**Expected**

> <article>On 6. The list of all the subscriptions is shown: Subscription ID, team's name and MM channel<br />On 7. A new post (alert creation) will be shown on the subscribed channel<br />On 8. Nothing will be shown on any channel<br />On 9. A new post will be shown on the subscribed channel</article>

<hr/>

**Step 4**

> <article>10. Run the `/genie subscription delete` command<br />11. Add Subscription ID to remove (from `/genie subscription list` command)<br />12. Execute action</article>

**Expected**

> <article>On 12. The data is validated. OpsGenie app bot sends response to confirm or to show error</article>

<hr/>

**Step 5**

> <article>13. Call to test OpsGenie command: `/genie alert create` . The alert's team should be the same as the one subscribed<br />14. Resubscribe to the team using /genie subscription add<br />15. On OpsGenie, create a new alert and assign it to that team<br />16. On opsGenie, acknowledge an alert belonging to the team subscribed to<br />17. On OpsGenie, un-acknowledge an alert belonging to the team subscribe to</article>

**Expected**

> <article>On 13. Nothing happens<br />On 15. You are notified about the new alert creation<br />On 16. You get notified about acknowledging the alert<br />On 17. You get notified about un-acknowledging the alert</article>

<hr/>
