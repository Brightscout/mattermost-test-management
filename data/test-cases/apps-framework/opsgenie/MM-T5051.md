---
name: "OpsGenie command: `/genie list team`"
status: Draft
priority: Normal
---

## MM-T5051: OpsGenie command: `/genie list team`

---

**Step 1 from MM-T5049: OpsGenie command: `/genie configure`**

<!-- (Auto-generated) Note: The following step/s in Step 1 should not be updated here. Instead, modify directly to the referenced MM-T5049 test case. -->

_**Step 1.1 from MM-T5048: Set up OpsGenie App**_

<!-- (Auto-generated) Note: The following step/s in Step 1 should not be updated here. Instead, modify directly to the referenced MM-T5048 test case. -->

_**Step 1.1.1**_

1\. Login to a Mattermost instance as sysadmin and ensure the Apps Plugin is enabled\
2\. Execute command \`/apps install http OPSGENIE\_URL \`\
3\. Select the \`Agree to grant the app access to APIs and Locations\` checkbox and click \`Submit\`\
4\. Run \`/genie\` command

_**Expected**_

On 1. Command \`/apps\` is available\
On 2. A modal appears, asking for admin's consent\
On 3. The appsbot sends a confirmation ephemeral post\
On 4. OpsGenie icon is shown, as two of the additional commands: \`help\` and \`configure\`

_**Step 1.2**_

2\. Run the \`/genie configure\` command\
3\. Add OpsGenie API key\
4\. Click \`Submit\`\
5\. Run the \`/genie configure\` command\
6\. Run the \`/genie\` command

_**Expected**_

On 2. An empty modal asking for the OpsGenie API key appears\
On 4. If OpsGenie API key is not valid, an error is displayed on modal, otherwise, a confirmation ephemeral post from OpsGenie App bot appears\
On 5. A modal with the previous OpsGenie API key appears\
On 6. Command \`/subscription\`, \`/alert\` and \`/list\` are shown

---

**Step 2**

2\. Run the \`/genie list team \` command

**Expected**

On 2. A list of all the active teams is posted as an ephemeral post from the OpsGenie app bot
