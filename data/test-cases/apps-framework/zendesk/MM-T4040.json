{
  "id": 10537470,
  "key": "MM-T4040",
  "name": "Zendesk Permissions respected in Mattermost",
  "createdOn": "2021-05-06T01:15:03Z",
  "objective": null,
  "precondition": "<strong>Requires a sandbox instance of Zendesk with an oAuth 2 application configured.</strong> <br><br>- No Support yet for RN mobile apps",
  "estimatedTime": null,
  "labels": [],
  "component": null,
  "priority": { "id": 401951, "name": "Low" },
  "status": { "id": 890281, "name": "Active" },
  "folder": {
    "id": 1244765,
    "name": "Zendesk",
    "parentId": 1214365,
    "fullNames": ["Apps Framework", "Zendesk"],
    "fullPath": "apps-framework/zendesk"
  },
  "customFields": {
    "Playwright": null,
    "Authors": "",
    "Priority P1 to P4": null,
    "Update notes": "",
    "Rainforest": [],
    "Team Ownership": [],
    "Manual Test Environments": ["Webapp", "Desktop"],
    "Detox": null,
    "Cypress": null,
    "MMCTL": null,
    "Last Updated": "",
    "Tags": ["Never tested"],
    "Location": "Integrations"
  },
  "steps": [
    { "inline": null, "testCase": { "testCaseKey": "MM-T4037" } },
    {
      "inline": {
        "description": "Add call to configure subscriptions",
        "testData": null,
        "expectedResult": null,
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    },
    {
      "inline": {
        "description": "1. In Zendesk locate or configure a test user to have \"End-User\" Permissions<br>2. Login to Mattermost as the test user<br>3. Use the <em>/zendesk connect&nbsp;</em>command to connect as the user identified in step 1",
        "testData": null,
        "expectedResult": "A DM is received from Zendesk bot informing the user that Zendesk functionality can only be used by Zendesk Agents and Admins",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    },
    {
      "inline": {
        "description": "1. Type <em>/zendesk&nbsp;</em><br>2<em>.&nbsp;</em>Note there is no Zendesk subscriptions binding in the channel header<em>&nbsp;</em><br>3. Click the ... menu for any non-system post",
        "testData": null,
        "expectedResult": "On 1.<br><em>- Disconnect&nbsp;</em>and <em>Help&nbsp;</em>options are visible (there will be others if the test user is a sysadmin - See &lt;&gt; for Mattermost role permissions)<br>- <em>Subscribe</em> command is <strong>not&nbsp;</strong>visible<br>On 2. Channel header binding for subscriptions is hidden from Zendesk \"end users\"<br>On 3. The create ticket option is hidden from Zendesk \"end users\"<br><br>",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    },
    {
      "inline": {
        "description": "1. Type <em>/zendesk</em> <em>Disconnect</em> to disconnect the test user from Zendesk <br>2. Login to Zendesk as a Administrator <br>3. Modify the test user's role to be \"Staff\"<br>4. Use the admin configurator tool to grant the user any agent role lower than Admin ex: \"Light Agent\"<br>5. Save role changes",
        "testData": "",
        "expectedResult": "User promoted in Zendesk",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    },
    {
      "inline": {
        "description": "1. Login to Mattermost as a test user<br>2. Use the <em>/zendesk connect&nbsp;</em>command to connect as the user modified in step 5.",
        "testData": null,
        "expectedResult": "A DM is received from Zendesk bot informing the user they have successfully connected to Zendesk",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    },
    {
      "inline": {
        "description": "1. Type <em>/zendesk&nbsp;</em><br>2<em>.&nbsp;</em>Note there is no Zendesk subscriptions binding in the channel header<em>&nbsp;</em><br>3. Click the ... menu for any non-system post",
        "testData": null,
        "expectedResult": "On 1.<br><em>- Disconnect&nbsp;</em>and <em>Help&nbsp;</em>options are visible (there will be others if the test user is a sysadmin - See MM-T4041 for Mattermost role permissions)<br>- <em>Subscribe</em> command is <strong>not&nbsp;</strong>visible<br>On 2. Channel header binding for subscriptions is hidden from Zendesk \"Agents\"<br>On 3. The create ticket option is available for Zendesk \"Agents\"<br><br>",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    },
    {
      "inline": {
        "description": "1. Type <em>/zendesk</em> <em>Disconnect</em> to disconnect the test user from Zendesk<br>2. Login to Zendesk as a Administrator<br>3. Modify the test user's role to be \"Staff\" (if not already done)<br>4. Use the admin configurator tool to grant the user the Admin role<br>5. Save role changes",
        "testData": null,
        "expectedResult": "User promoted in Zendesk",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    },
    {
      "inline": {
        "description": "1. Login to Mattermost as a test user<br>2. Use the <em>/zendesk connect&nbsp;</em>command to connect as the user modified in step 8.",
        "testData": null,
        "expectedResult": "A DM is received from Zendesk bot informing the user they have successfully connected to Zendesk",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    },
    {
      "inline": {
        "description": "1. Type <em>/zendesk&nbsp;</em><br>2<em>.&nbsp;</em>Note there <strong>is</strong>&nbsp;a Zendesk subscriptions binding in the channel header<em>&nbsp;</em><br>3. Click the ... menu for any non-system post",
        "testData": null,
        "expectedResult": "On 1.<br><em>- Disconnect&nbsp;</em>and <em>Help&nbsp;</em>options are visible<br>- <em>Subscribe</em> <strong>is&nbsp;</strong>visible<br>- There will be others if the test user is a sysadmin - See MM-T4041 for Mattermost role permissions<br>On 2. Channel header binding for subscriptions is shown to Zendesk \"Admins\" when they are connected<br>On 3. The create ticket option is available for Zendesk \"Admins\"<br><br>",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    }
  ],
  "caseHashed": "bc1ebfbf99ae83c74ebb93076b0a6c2c102ba20a1ab8e3b954668ae2d05aaab98c5bc416f318c2888382be181689552f",
  "stepsHashed": "01f2c46bdbf97189cae9c087659d378a5acefe8e725a2470af133ded2a2051b0086ce5915fac44f657c68660ceb44eaa"
}
