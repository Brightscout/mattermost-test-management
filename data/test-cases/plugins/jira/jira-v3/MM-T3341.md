---
key: MM-T3341
title: User can still access subscribe as expected for some instance when they don't have permission on other connected instances
---

## MM-T3341: User can still access subscribe as expected for some instance when they don't have permission on other connected instances

### Details

| Name     | Value                    |
| :------- | :----------------------- |
| Priority | Low                      |
| Status   | Active                   |
| Folder   | Plugins / Jira / Jira V3 |
| Created  | 2020-08-31T15:27:40Z     |

### Steps

<hr/>

**Step 1.1**

> <article>1. Install the Jira plugin<br>2. Install one instance of Jira on your Mattermost server<br>3. Connect your test user</article>

**Expected**

> <article>A single jia instance is installed and connected<br><br></article>

<hr/>

**Step 1.2**

> <article>1. Use the slash command to install a 2nd Jira instance ex: /jira instance install cloud <a href="https://mmtest.atlassian.net/">https://mmtest.atlassian.net</a><br>2. Complete the installation by adding an application on the Jira side <br>3. Connect the test user to the 2nd Jira instance</article>

**Expected**

> <article>A send instance of Jira has been successfully added</article>

<hr/>

**Step 2**

> <article>1. Login to Jira <em>insane A</em><br>2. configure a test user in Jira that has create and browse permissions on only one project<br>2. Login to Jira <em>insane B</em><br>3. configure a test user in Jira that has create and browse permissions on only one project <em>&nbsp;</em></article>

**Expected**

> <article>User has browse and create permission on only 1 project in both Jira instances</article>

<hr/>

**Step 3**

> <article>1. Login to Mattermost as a test user who has system admin permissions<br>2. Connect the test user to both Jira instances by mapping the user as the Jira test user configured above </article>

**Expected**

> <article>Mattermost test user is mapped as the Jira user configured above in both instances<br><br></article>

<hr/>

**Step 4**

> <article>1. As the test user <em>type /jira instance subscription edit</em> <br>2. Click Add</article>

**Expected**

> <article>Subscribe modal opens and both instances are available</article>

<hr/>

**Step 5**

> <article>1. As a Jira admin, login to Jira <em>Instance A</em> and remove <em>Create&nbsp;</em>and <em>Browse&nbsp;</em>permissions from the target project for the test Jira user</article>

**Expected**

> <article>Test user no longer has permissions in any project on one of the Jira instances</article>

<hr/>

**Step 6**

> <article>1. Login to Mattermost as the test user<br>2. As the test user <em>type /jira instance subscription edit</em><br>3. Click Add</article>

**Expected**

> <article>On 2. Modal opens successfully opens and only subscriptions from <em>Instance B</em> are shown<br>On 3. Only <em>Instance B </em>is available for creating new subscriptions</article>

<hr/>

### More Info

| Name                     | Value                  |
| :----------------------- | :--------------------- |
| Rainforest               | Evaluating             |
| Team Ownership           | Integration Frameworks |
| Manual Test Environments | Desktop                |
| Cypress                  | Ticket Open            |
| Tags                     | Never tested           |
| Location                 | Jira                   |
