---
# (Required) Ensure all values are filled up
name: "Code Preview Enabled for public repos only"
status: Draft
priority: Normal
folder: General
authors: ""
team_ownership: []

# (Optional) Test type and tools
cypress: null
detox: null
mmctl: null
playwright: null
rainforest: []
manual_test_environments: []

# (Optional)
component: null
priority_p1_to_p4: null
location: null
tags: []
labels: []

# Do not change
id: 13721378
key: MM-T4192
folder_path: plugins/github/general
created_on: "2021-08-30T15:24:53Z"
last_updated: ""
case_hashed: 4ba0f05dd65b58decd2b13b498fa1d574ce8cabc6810a65e4dc39cf16cd0145a3d34ed0775a2207746f3f92e3ea877cc
steps_hashed: f9f4dee216664251e49463ed98bf2093d45c55f5417eb709bf1916739ad26dd5a29bb21c5be6c21c7baa42cb0f1f4b17
---

## MM-T4192: Code Preview Enabled for public repos only

---

**Step 1**

1 Enable the Enable Code Previews feature for punblic repos only\
2\. Post a GitHub Permalink from a public repo such as https\://github.com/mattermost/mattermost-server/blob/4d1c6cd446ba5a40fb90d530ceadc4ed7a387424/store/constants.go#L7-L9\
3\. Post a GitHub Permalink from a private repo such as https\://github.com/DHaussermann/dkh-private/blob/6bff1fbd2d2b04405526ab226c82fd798a47c20a/token-go-file.go#L2-L4

**Expected**

On 2. Code preview is shown when posting the link\
On 3. Code preview is not shown when posting the link as the repo is private
