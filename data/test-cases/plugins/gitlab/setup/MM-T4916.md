---
key: MM-T4916
title: Setup respects private repo config
---

## MM-T4916: Setup respects private repo config

### Details

| Name     | Value                    |
| :------- | :----------------------- |
| Priority | Normal                   |
| Status   | Draft                    |
| Folder   | Plugins / GitLab / Setup |
| Created  | 2022-07-13T19:42:00Z     |

### Steps

<hr/>

**Step 1**

> <article>1. Enable GitLab <br />2. As a sysadmin run /setup<br />3. Configure oAuth app (or just use Chimera on a cloud test server)<br />4. Connect the test user</article>

**Expected**

> <article>Test user is connected</article>

<hr/>

**Step 2**

> <article>1. Do <strong>not</strong> yet add a webhook<br />2. Navigate to the GitLab settings and set private repositories to <strong>false </strong><br />3. In GitLab - locate a provate user/project<br />4. Return to Mattermost and click Yes to creating a webhook<br /><br /></article>

**Expected**

> <article>Modal shows to provide user/prject</article>

<hr/>

**Step 3**

> <article>1. Provide the private the user/project from step 2. and save<br /><br /><br /></article>

**Expected**

> <article>Validation shows that private repos are not allowed</article>

<hr/>

**Step 4**

> <article>1. Navigate to the GitLab settings and set private repositories to <strong>true </strong><br />2. Try agin to create the webhook for the same project</article>

**Expected**

> <article>Webhook created successfully</article>

<hr/>
