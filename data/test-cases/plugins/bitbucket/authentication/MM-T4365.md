---
key: MM-T4365
title: Available issue in attach are limited to repos where the current user is has access
---

## MM-T4365: Available issue in attach are limited to repos where the current user is has access

### Details

| Name     | Value                                |
| :------- | :----------------------------------- |
| Priority | Normal                               |
| Status   | Draft                                |
| Folder   | Plugins / Bitbucket / Authentication |
| Created  | 2021-11-04T17:56:10Z                 |

### Steps

<hr/>

**Step 1**

> <article>1. Create a private repo in Bitbucket<br />2. Add a test user to the repo either as an admin or with `Read` access<br />3. Login to Mattermost and connect as the test user created in step 2.<br />4. Make or locate a post in Mattermost <br />5. Open the `...` menu and select Create Bitbucket issue</article>

**Expected**

> <article>The repo is now visible in the list where issues can be created</article>

<hr/>

**Step 2**

> <article>1. Create or locate an issue in the repo created above<br />2. Login  to Mattermost as the test user<br />3. Make or locate a post in Mattermost<br />4. Open the `...` menu and select Attach to Bitbucket<br />5. Use the search dropdown to locate the issue </article>

**Expected**

> <article>The issue is visible in the drop down and the comment can be attached</article>

<hr/>

**Step 3**

> <article>1. Remove the user from the private Bitbucket repo<br />2. Login to Mattermost and connect as the test user created in step 2.<br />3. Make or locate a post in Mattermost<br />5. Open the `...` menu and select Create Bitbucket issue</article>

**Expected**

> <article>The repo is <strong>not</strong> visible in the list where issues can be created</article>

<hr/>

**Step 4**

> <article>1. Create or locate an issue in the repo where the test user now has <strong>no access</strong>Â <br />2. Login to Mattermost as the test user<br />3. Make or locate a post in Mattermost<br />4. Open the `...` menu and select Attach to Bitbucket<br />5. Use the search dropdown to locate the issue</article>

**Expected**

> <article>The issue is <strong>not</strong> visible in the drop down</article>

<hr/>
