---
# (Required) Ensure all values are filled up
name: "Package update"
status: Active
priority: Normal
folder: Omnibus
authors: ""
team_ownership: 
- Server Platform

# (Optional) Test type and tools
cypress: N/A
detox: null
mmctl: null
playwright: null
rainforest: 
- N/A
manual_test_environments: 
- CLI

# (Optional)
component: null
priority_p1_to_p4: P4 - Low-Impact (Edge or unsuitable to repeat?)
location: Omnibus
tags: 
- Cloud N/A
labels: 
- Cloud-N/A

# Do not change
id: 6197859
key: MM-T3140
folder_path: omnibus
created_on: "2020-07-14T18:40:51Z"
last_updated: ""
case_hashed: c9a7ae0e82b2faf5fdbd6a089cf0fbed2bc01f2889477777817f006b548883647f1251ba8b3225dfe46fddf14e8bfed4
steps_hashed: 6ab4a57f0cc4d3ecf30bbce463c6b601299cac55cbadcfa6c27d2c7a9165897e6c1e81da6149765a01976c2f92556bb9
---

## MM-T3140: Package update

---

**Step 1**

Package update\
————————————————————————————\
In a new server

1. Run the "curl -o- <https://deb.packages.mattermost.com/repo-setup.sh> | sudo bash"
2. Run "sudo apt list -a mattermost-omnibus" to see list of available versions
3. Run "apt install mattermost-omnibus=PREVIOUS\_VERSION mattermost=PREVIOUS\_VERSION", where PREVIOUS\_VERSION is the prior version to the one currently under testing (e.g.: "apt install mattermost-omnibus=5.27.0-0 mattermost=5.27.0-0")

**Expected**

- The server URL should be accessible

---

**Step 2**

1. Register a user and post a couple of messages with an attachment into the Town Square channel
2. Check the "About Mattermost" menu option and ensure that the version number is the correct one. Close the modal dialog and don't close the Mattermost tab
3. Run "apt install mattermost-omnibus=CURRENT\_VERSION mattermost=CURRENT\_VERSION", where CURRENT\_VERSION corresponds to the version under testing, (e.g. "apt install mattermost-omnibus=5.28.1-0 mattermost=5.28.1-0")

**Expected**

- The update process should not ask for any information and it should finish correctly. A banner indicating that Mattermost has been updated should appear in the web client

---

**Step 3**

1. In the previously opened tab, a banner should appear after 10-15 seconds indicating that Mattermost has been updated. Click on the link to reload

**Expected**

- Mattermost should reload successfully

---

**Step 4**

1. Check the "About Mattermost" menu option

**Expected**

- The About Mattermost modal should have the updated Mattermost version
