---
key: MM-T3140
title: Package update
---

## MM-T3140: Package update

### Details

| Name     | Value                |
| :------- | :------------------- |
| Priority | Normal               |
| Status   | Active               |
| Folder   | Omnibus              |
| Labels   | Cloud-N/A            |
| Created  | 2020-07-14T18:40:51Z |

### Steps

<hr/>

**Step 1**

> <article>Package update<br>————————————————————————————<br>In a new server<ol><li>Run the "curl -o- <a href="https://deb.packages.mattermost.com/repo-setup.sh">https://deb.packages.mattermost.com/repo-setup.sh</a> | sudo bash"</li><li>Run "sudo apt list -a mattermost-omnibus" to see list of available versions</li><li>Run "apt install mattermost-omnibus=PREVIOUS_VERSION mattermost=PREVIOUS_VERSION", where PREVIOUS_VERSION is the prior version to the one currently under testing (e.g.: "apt install mattermost-omnibus=5.27.0-0 mattermost=5.27.0-0")</li></ol></article>

**Expected**

> <article><ul><li>The server URL should be accessible</li></ul></article>

<hr/>

**Step 2**

> <article><ol><li>Register a user and post a couple of messages with an attachment into the Town Square channel</li><li>Check the "About Mattermost" menu option and ensure that the version number is the correct one. Close the modal dialog and don't close the Mattermost tab</li><li>Run "apt install mattermost-omnibus=CURRENT_VERSION mattermost=CURRENT_VERSION", where CURRENT_VERSION corresponds to the version under testing, (e.g. "apt install mattermost-omnibus=5.28.1-0 mattermost=5.28.1-0")</li></ol></article>

**Expected**

> <article><ul><li>The update process should not ask for any information and it should finish correctly. A banner indicating that Mattermost has been updated should appear in the web client</li></ul></article>

<hr/>

**Step 3**

> <article><ol><li>In the previously opened tab, a banner should appear after 10-15 seconds indicating that Mattermost has been updated. Click on the link to reload</li></ol></article>

**Expected**

> <article><ul><li>Mattermost should reload successfully</li></ul></article>

<hr/>

**Step 4**

> <article><ol><li>Check the "About Mattermost" menu option</li></ol></article>

**Expected**

> <article><ul><li>The About Mattermost modal should have the updated Mattermost version</li></ul></article>

<hr/>

### More Info

| Name                     | Value                                           |
| :----------------------- | :---------------------------------------------- |
| Priority P1 to P4        | P4 - Low-Impact (Edge or unsuitable to repeat?) |
| Rainforest               | N/A                                             |
| Team Ownership           | Server Platform                                 |
| Manual Test Environments | CLI                                             |
| Cypress                  | N/A                                             |
| Tags                     | Cloud N/A                                       |
| Location                 | Omnibus                                         |
